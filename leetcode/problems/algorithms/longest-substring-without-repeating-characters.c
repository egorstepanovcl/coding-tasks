// Решил: Егор Степанов <https://github.com/egorstepanovcl>

// Название: 3. Самая длинная подстрока без повторяющихся символов (3. Longest Substring Without Repeating Characters)

// Задача:
// Если задана строка s, найдите длину самой длинной подстроки без повторяющихся символов.

// Пример 1:
// Вход: s = «abcabcbb»
// Выходные данные: 3
// Пояснения: Ответом является «abc», длина которого равна 3.

// Пример 2:
// Вход: s = «bbbbbb»
// Выход: 1
// Пояснения: Ответом является «b», длина которого равна 1.

// Пример 3:
// Вход: s = «pwwkew»
// Выход: 3
// Пояснения: Ответом является «wke», длина которого равна 3.
// Обратите внимание, что ответ должен быть подстрокой, «pwke» - это подпоследовательность, а не подстрока.

// Ограничения:
// 0 <= s.length <= 5 * 10⁴
// s состоит из английских букв, цифр, символов и пробелов.

#include <stdio.h>
#include <string.h>

int lengthOfLongestSubstring(char *s) {
    int n = strlen(s);
    int charIndex[128] = {0}; // Для хранения индексов символов
    int maxLength = 0; // Максимальная длина подстроки
    int start = 0; // Начало текущей подстроки

    for (int i = 0; i < n; i++) {
        // Если символ уже встречался, сдвигаем начало подстроки
        if (charIndex[s[i]] > start) {
            start = charIndex[s[i]];
        }
        // Обновляем индекс текущего символа
        charIndex[s[i]] = i + 1; // +1 для учета 1-индекса
        // Вычисляем максимальную длину подстроки
        maxLength = maxLength > (i - start + 1) ? maxLength : (i - start + 1);
    }

    return maxLength;
}